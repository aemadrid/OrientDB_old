---
title: Automatic backup
layout: default
bc_1_name: db_server
bc_1_title: DB Server
---
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
  <head>
    <meta name="generator" content="HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.6), see www.w3.org">
    <title></title>
    <style type="text/css">
p.c2 {font-style: italic}
    li.c1 {list-style: none}
    </style>
  </head>
  <body>
    <p>
      Java class: <tt>com.orientechnologies.orient.server.handler.OAutomaticBackup</tt>
    </p>
    <h2>
      <a name="Introduction" id="Introduction"></a>Introduction<a href="#Introduction" class="section_anchor"></a>
    </h2>
    <p>
      Configure an automatic backup of databases. This task is configured as a <a href="db_server.html#Handlers">Server handler</a>. The task can be configured in easy way by changing parameters:
    </p>
    <ul>
      <li>
        <strong>enabled</strong>: true to turn on, false (default) is turned off
      </li>
      <li>
        <strong>delay</strong>: delay time. You can use different suffixes to specify different measures:
      </li>
      <li class="c1">
        <ul>
          <li>
            <strong>ms</strong> for milliseconds. Example 10000ms means 10 seconds
          </li>
          <li>
            <strong>s</strong> for seconds. Example 10s means 10 seconds
          </li>
          <li>
            <strong>m</strong> for minutes. Example 5m means 5 minutes
          </li>
          <li>
            <strong>h</strong> for hours. Example 24h means every day
          </li>
          <li>
            <strong>d</strong> for days. Example 1d means every day
          </li>
        </ul>
      </li>
      <li>
        <strong>target.directory</strong>: target directory, the default is "backup"
      </li>
      <li>
        <strong>target.fileName</strong>: target file name configurable using the following variables between <tt>${</tt>}:
      </li>
      <li class="c1">
        <ul>
          <li>
            <strong><tt>${DBNAME</tt>}</strong>, as the database name
          </li>
          <li>
            <strong><tt>${DATE</tt>}</strong>, as the current date following the format. For the complete syntax look at <a href="http://download.oracle.com/javase/1,5.0/docs/api/java/text/SimpleDateFormat.html" rel="nofollow">Java DateTime syntax</a>
          </li>
        </ul>
      </li>
      <li>
        <strong>db.include</strong>: database list to include. If empty means all the databases
      </li>
      <li>
        <strong>db.exclude</strong>: database list to exclude
      </li>
    </ul>
    <p class="c2">
      NOTE: This feature is available since v. 1.0rc6.
    </p>
    <p>
      Default configuration in orientdb-server-config.xml
    </p>
    <pre class="prettyprint">
&lt;!-- AUTOMATIC BACKUP, TO TURN ON SET THE 'ENABLED' PARAMETER TO 'true' --&gt;
&lt;handler class="com.orientechnologies.orient.server.handler.OAutomaticBackup"&gt;
  &lt;parameters&gt;
    &lt;parameter name="enabled" value="false" /&gt;
    &lt;parameter name="delay" value="4h" /&gt;
    &lt;parameter name="target.directory" value="backup" /&gt;
    &lt;parameter name="target.fileName" value="${DBNAME}-${DATE:yyyyMMddHHmmss}.json" /&gt;&lt;!-- ${DBNAME} AND ${DATE:} VARIABLES ARE SUPPORTED --&gt;
    &lt;parameter name="db.include" value="" /&gt;&lt;!-- DEFAULT: NO ONE, THAT MEANS ALL DATABASES. USE COMMA TO SEPARATE MULTIPLE DATABASE NAMES --&gt;
    &lt;parameter name="db.exclude" value="" /&gt;&lt;!-- USE COMMA TO SEPARATE MULTIPLE DATABASE NAMES --&gt;
  &lt;/parameters&gt;
&lt;/handler&gt;
</pre>
  </body>
</html>
